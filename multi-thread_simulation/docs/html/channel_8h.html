<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Epidemic Simulation: include/channel.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Epidemic Simulation
   </div>
   <div id="projectbrief">This project simulates the spread of an epidemic within a city, using various mechanisms such as inter-process communication, shared memory, and threading. The goals is to model citizen roles and their intreractions to manage and mitigate the contamination.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">channel.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This file contains the functions and structures for the communication channel mechanism.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;fcntl.h&gt;</code><br />
<code>#include &lt;sys/stat.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for channel.h:</div>
<div class="dyncontent">
<div class="center"><img src="channel_8h__incl.png" border="0" usemap="#ainclude_2channel_8h" alt=""/></div>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="channel_8h__dep__incl.png" border="0" usemap="#ainclude_2channel_8hdep" alt=""/></div>
</div>
</div>
<p><a href="channel_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structchannel__s.html">channel_s</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a63a60734de57169efd1e947732b8958c"><td class="memItemLeft" align="right" valign="top"><a id="a63a60734de57169efd1e947732b8958c"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CHANNEL_NAME</b>&#160;&#160;&#160;&quot;/channel_with_city&quot;</td></tr>
<tr class="separator:a63a60734de57169efd1e947732b8958c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa204ec58d846f2354e6bd239460db89f"><td class="memItemLeft" align="right" valign="top"><a id="aa204ec58d846f2354e6bd239460db89f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MSG_LENGTH</b>&#160;&#160;&#160;128</td></tr>
<tr class="separator:aa204ec58d846f2354e6bd239460db89f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a426c0241fba7a5cd03aff0fa31c827f1"><td class="memItemLeft" align="right" valign="top"><a id="a426c0241fba7a5cd03aff0fa31c827f1"></a>
typedef enum priority_e&#160;</td><td class="memItemRight" valign="bottom"><b>Priority</b></td></tr>
<tr class="separator:a426c0241fba7a5cd03aff0fa31c827f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a710c4ef2a8206c3fce93fdc53276b350"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structchannel__s.html">channel_s</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="channel_8h.html#a710c4ef2a8206c3fce93fdc53276b350">Channel</a></td></tr>
<tr class="memdesc:a710c4ef2a8206c3fce93fdc53276b350"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure representing a communication channel.  <a href="channel_8h.html#a710c4ef2a8206c3fce93fdc53276b350">More...</a><br /></td></tr>
<tr class="separator:a710c4ef2a8206c3fce93fdc53276b350"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:add90230972b81fc8809dc185a06a9b2a"><td class="memItemLeft" align="right" valign="top"><a id="add90230972b81fc8809dc185a06a9b2a"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><b>priority_e</b> { <br />
&#160;&#160;<b>MIN_PRIORITY</b> = 1
, <b>VERY_LOW_PRIORITY</b> = 2
, <b>LOW_PRIORITY</b> = 3
, <b>MEDIUM_PRIORITY</b> = 5
, <br />
&#160;&#160;<b>HIGH_PRIORITY</b> = 6
, <b>VERY_HIGH_PRIORITY</b> = 8
, <b>MAX_PRIORITY</b> = 10
<br />
 }</td></tr>
<tr class="separator:add90230972b81fc8809dc185a06a9b2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a0a8c7a29e3c49aa0828657415af924fe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="channel_8h.html#a710c4ef2a8206c3fce93fdc53276b350">Channel</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="channel_8h.html#a0a8c7a29e3c49aa0828657415af924fe">create_channel</a> (const char *name)</td></tr>
<tr class="memdesc:a0a8c7a29e3c49aa0828657415af924fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new communication channel with the specified name.  <a href="channel_8h.html#a0a8c7a29e3c49aa0828657415af924fe">More...</a><br /></td></tr>
<tr class="separator:a0a8c7a29e3c49aa0828657415af924fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8583c25cf630a645ffb7d76dd28dc182"><td class="memItemLeft" align="right" valign="top"><a class="el" href="channel_8h.html#a710c4ef2a8206c3fce93fdc53276b350">Channel</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="channel_8h.html#a8583c25cf630a645ffb7d76dd28dc182">open_channel</a> (const char *name)</td></tr>
<tr class="memdesc:a8583c25cf630a645ffb7d76dd28dc182"><td class="mdescLeft">&#160;</td><td class="mdescRight">Opens an existing communication channel with the specified name.  <a href="channel_8h.html#a8583c25cf630a645ffb7d76dd28dc182">More...</a><br /></td></tr>
<tr class="separator:a8583c25cf630a645ffb7d76dd28dc182"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a894265fc3f0939ffc376e24832a28636"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="channel_8h.html#a894265fc3f0939ffc376e24832a28636">destroy_channel</a> (const char *name)</td></tr>
<tr class="memdesc:a894265fc3f0939ffc376e24832a28636"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroys an existing communication channel with the specified name.  <a href="channel_8h.html#a894265fc3f0939ffc376e24832a28636">More...</a><br /></td></tr>
<tr class="separator:a894265fc3f0939ffc376e24832a28636"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21926399a877db6b95d9222d1c4418d5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="channel_8h.html#a21926399a877db6b95d9222d1c4418d5">channel_send_news</a> (<a class="el" href="channel_8h.html#a710c4ef2a8206c3fce93fdc53276b350">Channel</a> *channel, int day, const char *<a class="el" href="structnews.html">news</a>, int priority)</td></tr>
<tr class="memdesc:a21926399a877db6b95d9222d1c4418d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a news message through the specified communication channel.  <a href="channel_8h.html#a21926399a877db6b95d9222d1c4418d5">More...</a><br /></td></tr>
<tr class="separator:a21926399a877db6b95d9222d1c4418d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d95b5208159313f35fb5d6717eb9fe5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="channel_8h.html#a2d95b5208159313f35fb5d6717eb9fe5">channel_receive_news</a> (<a class="el" href="channel_8h.html#a710c4ef2a8206c3fce93fdc53276b350">Channel</a> *channel, int *day, char *<a class="el" href="structnews.html">news</a>, int size, int *priority)</td></tr>
<tr class="memdesc:a2d95b5208159313f35fb5d6717eb9fe5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receives a news item from the specified communication channel.  <a href="channel_8h.html#a2d95b5208159313f35fb5d6717eb9fe5">More...</a><br /></td></tr>
<tr class="separator:a2d95b5208159313f35fb5d6717eb9fe5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file contains the functions and structures for the communication channel mechanism. </p>
<dl class="section author"><dt>Author</dt><dd>Alain Lebret </dd></dl>
<dl class="section version"><dt>Version</dt><dd>1.0 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2023 </dd></dl>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a id="a710c4ef2a8206c3fce93fdc53276b350"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a710c4ef2a8206c3fce93fdc53276b350">&#9670;&nbsp;</a></span>Channel</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structchannel__s.html">channel_s</a> <a class="el" href="channel_8h.html#a710c4ef2a8206c3fce93fdc53276b350">Channel</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Structure representing a communication channel. </p>
<p>The Channel structure encapsulates a communication channel used for sending and receiving news. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a2d95b5208159313f35fb5d6717eb9fe5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d95b5208159313f35fb5d6717eb9fe5">&#9670;&nbsp;</a></span>channel_receive_news()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int channel_receive_news </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="channel_8h.html#a710c4ef2a8206c3fce93fdc53276b350">Channel</a> *&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>day</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>news</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>priority</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receives a news item from the specified communication channel. </p>
<p>This function receives a news item from the given communication channel. The message is extracted from the channel's message queue and parsed to retrieve the day value and news content. The day value is stored in the provided integer pointer, and the news content is copied into the provided buffer, ensuring it does not exceed MSG_LENGTH. The message is expected to be in the format "day;news".</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">channel</td><td>Pointer to the Channel structure representing the communication channel. </td></tr>
    <tr><td class="paramname">day</td><td>Pointer to an integer variable to store the day value of the news item. </td></tr>
    <tr><td class="paramname">news</td><td>Pointer to a buffer to store the news content. </td></tr>
    <tr><td class="paramname">size</td><td>The size of the news buffer. </td></tr>
    <tr><td class="paramname">priority</td><td>The priority of the message.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, or -1 if an error occurs. </dd></dl>

</div>
</div>
<a id="a21926399a877db6b95d9222d1c4418d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21926399a877db6b95d9222d1c4418d5">&#9670;&nbsp;</a></span>channel_send_news()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int channel_send_news </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="channel_8h.html#a710c4ef2a8206c3fce93fdc53276b350">Channel</a> *&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>day</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>news</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>priority</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends a news message through the specified communication channel. </p>
<p>This function sends a news message through the given communication channel. The message is composed of the provided day, represented as an integer, and the news content as a string. The message is formatted as "day;news" before being sent to the message queue associated with the channel.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">channel</td><td>Pointer to the Channel structure representing the communication channel. </td></tr>
    <tr><td class="paramname">day</td><td>The day value associated with the news message. </td></tr>
    <tr><td class="paramname">news</td><td>The news content to be sent. </td></tr>
    <tr><td class="paramname">priority</td><td>The priority of the news message in the message queue. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, or -1 if an error occurs. </dd></dl>

</div>
</div>
<a id="a0a8c7a29e3c49aa0828657415af924fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a8c7a29e3c49aa0828657415af924fe">&#9670;&nbsp;</a></span>create_channel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="channel_8h.html#a710c4ef2a8206c3fce93fdc53276b350">Channel</a>* create_channel </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a new communication channel with the specified name. </p>
<p>This function creates a new communication channel represented by a Channel structure. The channel is created as a message queue with the given name and specified attributes.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>The name of the message queue for the channel. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the created Channel structure on success, or NULL on failure. </dd></dl>

</div>
</div>
<a id="a894265fc3f0939ffc376e24832a28636"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a894265fc3f0939ffc376e24832a28636">&#9670;&nbsp;</a></span>destroy_channel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void destroy_channel </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroys an existing communication channel with the specified name. </p>
<p>This function destroys an existing communication channel identified by the given name. The channel is removed from the system, freeing associated resources such as the message queue.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>The name of the message queue for the channel to destroy. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8583c25cf630a645ffb7d76dd28dc182"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8583c25cf630a645ffb7d76dd28dc182">&#9670;&nbsp;</a></span>open_channel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="channel_8h.html#a710c4ef2a8206c3fce93fdc53276b350">Channel</a>* open_channel </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Opens an existing communication channel with the specified name. </p>
<p>This function opens an existing communication channel represented by a Channel structure. The channel is identified by the given name and must have been previously created using the <code>create_channel</code> function or an equivalent method.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>The name of the existing message queue for the channel. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the opened Channel structure on success, or NULL on failure. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
